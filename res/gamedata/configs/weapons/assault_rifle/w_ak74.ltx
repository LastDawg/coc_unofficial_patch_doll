[wpn_ak74]:new_weapon_params
$npc                                               = on
$prefetch                                          = 8
$spawn                                             = "weapons\ak-74"
ammo_class                                         = ammo_5.45x39_fmj, ammo_5.45x39_ap
ammo_elapsed                                       = 30
ammo_mag_size                                      = 30
animation_slot                                     = 2
bullet_speed                                       = 910
cam_return							               = 0
cam_relax_speed						               = 5.0
cam_dispersion						               = 1.1
;cam_dispersion_horz 			                   = 0.9
cam_dispersion_inc 					               = 1.1
cam_dispersion_frac 				               = 0.9			
cam_max_angle						               = 15.0				
cam_max_angle_horz 					               = 10.0				
cam_step_angle_horz 				               = 0.35			
class                                              = WP_AK74

misfire_one_cartridge_remove                       = true

bullet_bones                                       = bullets

                                                   ;умножаем 0.05 на необходимое число выстрелов, чтобы получить значение изноcа
condition_shot_dec                                 = 0.000277 ;при 0.1 истощится за 15 выстрелов

control_inertion_factor                            = 1.2f
cost                                               = 14000
crosshair_inertion                                 = 6
description                                        = st_wpn_ak74_descr
ef_main_weapon_type                                = 2
ef_weapon_type                                     = 8
fire_dispersion_base                               = 0.25
fire_distance                                      = 1300
fire_modes                                         = 1, -1
grenade_class                                      = ammo_vog-25
grenade_launcher_name                              = wpn_addon_grenade_launcher
grenade_launcher_status                            = 2
grenade_launcher_x                                 = 114
grenade_launcher_y                                 = 21
GroupControlSection                                = spawn_group
hand_dependence                                    = 1
hit_power                                          = 0.41
hit_type                                           = fire_wound
holder_fov_modifier                                = 1.0
holder_range_modifier                              = 1.0
hud                                                = wpn_ak74_hud
installed_upgrades                                 = 
inv_grid_height                                    = 2
inv_grid_width                                     = 5
inv_grid_x                                         = 22
inv_grid_y                                         = 2
inv_name                                           = st_wpn_ak74
inv_weight                                         = 3.07
launch_speed                                       = 76.5
light_color                                        = 0.6, 0.5, 0.3
light_disabled                                     = false
light_range                                        = 5
light_time                                         = 0.2
light_var_color                                    = 0.05
light_var_range                                    = 0.5
max_radius                                         = 50
min_radius                                         = 30

position                                 		   = -0.026, -0.175, 0.0
orientation                              		   = 0, 0, 0
fire_point                              		   = 0, 0.218, 0.656
fire_point2                              		   = 0, 0.161, 0.583
shell_point                                        = 0.07,0.2,0.466
strap_bone0                             		   = bip01_spine2
strap_bone1                              		   = bip01_spine1
strap_position                           		   = -0.18, -0.45, 0.2
strap_orientation                        		   = -10, -5, 10
				
misfire_chance                                     = 0.08

parent_section                                     = wpn_ak74
PDM_disp_base 				                       = 0.4
PDM_disp_vel_factor 		                       = 1.0
PDM_disp_accel_factor 			                   = 1.0
PDM_disp_crouch	 			                       = 0.8
PDM_disp_crouch_no_acc 			                   = 0.8
rpm                                                = 665
rpm_empty_click                                    = 200
scheduled                                          = off
scope_status                                       = 2
scope_zoom_factor                                  = 1.1
scopes                                             = pso_scope, 1pn93_1_scope, kobra_scope, okp_scope
shell_bone                                         = wpn_body
shell_particles                                    = ;weapons\545x39

silencer_light_color                               = 0.6, 0.5, 0.3
silencer_light_range                               = 0.01
silencer_light_time                                = 0.2
silencer_light_var_color                           = 0.05
silencer_light_var_range                           = 0.5
silencer_name                                      = wpn_addon_rifle_suppressor
silencer_status                                    = 2
silencer_x                                         = 214
silencer_y                                         = 18
single_handed                                      = 0
slot                                               = 2

snd_bore										   = nil
snd_draw										   = weapons\ak74\ak74_show
snd_holster				                           = weapons\ak74\ak74_hide
snd_empty               						   = weapons\ak74\ak74_empty
snd_reload										   = weapons\ak74\ak74_r
snd_reload_empty								   = weapons\ak74\ak74_re
snd_reload_misfire								   = weapons\ak74\ak74_mis
snd_shoot_grenade       						   = weapons\ak74\ak74_gl_shoot
snd_reload_grenade								   = weapons\ak74\ak74_gl_re
snd_changefiremode                                 = weapons\ak74\ak74_mode_switch
snd_switch                                         = weapons\ak74\ak74_gl_on
snd_ammo_check                                     = weapons\ak74\ak74_ammo_check  
snd_ammo_check_jammed                              = weapons\ak74\ak74_ammo_check  
snd_ammo_check_empty_jammed                        = weapons\ak74\ak74_ammo_check  

snd_shoot               						   = weapons\ak74\ak74_shoot
snd_shoot_distant                                  = weapons\_gunfire\ak74\medium_distance
snd_shoot_distant_far                              = nil
snd_silncer_shot        						   = weapons\ak74\ak74_shot_sil

time_to_aim                                        = 3.0

upgrade_scheme                           		   = upgrade_scheme_ak74
upgrades                                 		   = up_gr_firstab_ak74, up_gr_seconab_ak74, up_gr_thirdab_ak74, up_gr_fourtab_ak74, up_gr_fourtcd_ak74

use_aim_bullet                                     = false
visual                                             = dynamics\weapons\wpn_ak74\wpn_ak74.ogf
weapon_class                                       = assault_rifle
zoom_cam_relax_speed				               = 8.0	
zoom_cam_dispersion					               = 1.15
zoom_cam_dispersion_inc				               = 1.0
zoom_cam_dispersion_frac			               = 1.5
;zoom_cam_dispersion_horz                          = 0.4
zoom_cam_max_angle					               = 7.0
zoom_cam_max_angle_horz				               = 5.0
zoom_cam_step_angle_horz			               = 0.3
zoom_dof						               	   = 0.5, 1.0, 180
reload_dof							               = 0.0, 0.5, 5, 2;1.7
zoom_enabled                                       = true
zoom_rotate_time                                   = 0.2

flame_particles									   = amik\weapons\ak_shoot_00
smoke_particles		   							   = ghost_particles\weapons\flame_eft_ak
grenade_flame_particles 						   = amik\weapons\grenade_flame_particles\grenade_flame_particles_00
silencer_smoke_particles   						   = ghost_particles\weapons\generic_smoke_eft_sil


[wpn_ak74_hud]:hud_base_weapon
hands_orientation                		 = 0.299094, 0.334508, 0
hands_orientation_16x9           		 = 0.299094, 0.334508, 0
hands_position                   		 = -0.005319, -0.000639, -0.015996
hands_position_16x9              		 = -0.005319, -0.000639, -0.015996
aim_hud_offset_pos						 = -0.058585,0.017992,-0.063158
aim_hud_offset_rot						 = 0.005405,0.004435,0.008665
aim_hud_offset_pos_16x9					 = -0.058585,0.017992,-0.063158
aim_hud_offset_rot_16x9					 = 0.005405,0.004435,0.008665
gl_hud_offset_pos						 = -0.097546,-0.301584,-0.268799
gl_hud_offset_rot						 = -0.628723,0.059262,0.046114
gl_hud_offset_pos_16x9					 = -0.097546,-0.301584,-0.268799
gl_hud_offset_rot_16x9					 = -0.628723,0.059262,0.046114
item_position							 = 0,0,0
item_orientation						 = 0,0,0

; Base

anm_bore                                 = sdm_ak74_bore, idle
anm_hide                                 = sdm_ak74_holster, idle
anm_idle                                 = sdm_ak74_idle, idle, 0.75
anm_idle_aim                             = sdm_ak74_aim, idle
anm_idle_aim_moving                      = sdm_ak74_aim, idle, 0.50
anm_idle_aim_moving_crouch               = sdm_ak74_aim, idle, 0.50
anm_idle_moving                          = sdm_ak74_move, idle, 0.92
anm_idle_moving_crouch                   = sdm_ak74_move, idle, 0.88
anm_idle_sprint                          = sdm_ak74_sprint, idle, 1.2
anm_reload                               = sdm_ak74_r
anm_reload_empty                         = sdm_ak74_re
anm_shots                                = sdm_ak74_shot
anm_shots_aim                            = sdm_ak74_shot_aim
anm_show                                 = sdm_ak74_draw, idle
anm_reload_misfire                       = sdm_ak74_mis
;anm_reload_misfire_aim                  = sdm_ak74_mis_aim, sdm_ak74_mis

; With GL 

anm_bore_w_gl                            = sdm_ak74_bore_w_gl, idle
anm_hide_w_gl                            = sdm_ak74_holster_w_gl, idle
anm_idle_w_gl                            = sdm_ak74_idle_w_gl, idle, 0.75
anm_idle_w_gl_aim                        = sdm_ak74_aim_w_gl, idle
anm_idle_moving_w_gl_aim                 = sdm_ak74_aim_w_gl, idle, 0.50
anm_idle_moving_crouch_w_gl_aim          = sdm_ak74_aim_w_gl, idle, 0.50
anm_idle_moving_w_gl                     = sdm_ak74_move_w_gl, idle, 0.92
anm_idle_moving_crouch_w_gl              = sdm_ak74_move_w_gl, idle, 0.88
anm_idle_sprint_w_gl                     = sdm_ak74_sprint_w_gl, idle, 1.2
anm_reload_w_gl                          = sdm_ak74_r_w_gl
anm_reload_empty_w_gl                    = sdm_ak74_re_w_gl
anm_shots_w_gl                           = sdm_ak74_shot_w_gl
anm_shots_w_gl_aim                       = sdm_ak74_shot_aim_w_gl
anm_show_w_gl                            = sdm_ak74_draw_w_gl, idle
anm_reload_misfire_w_gl                  = sdm_ak74_mis_w_gl, sdm_ak74_mis
;anm_reload_misfire_w_gl_aim             = sdm_ak74_mis_w_gl_aim, sdm_ak74_mis

; GL 	 

;anm_bore_g                              = blnd_ak74m_inspect_gl, idle
anm_hide_g                               = sdm_ak74_hide_g
anm_idle_g                               = sdm_ak74_idle_g, idle_g
anm_idle_g_aim                           = sdm_ak74_aim_g, idle_g
anm_idle_moving_crouch_g_aim             = sdm_ak74_aim_g, idle_g
anm_idle_moving_g                        = sdm_ak74_move_g, idle_g
anm_idle_moving_g_aim                    = sdm_ak74_aim_g, idle_g
anm_idle_sprint_g                        = sdm_ak74_sprint_g, idle_g
anm_reload_g                             = sdm_ak74_g_reload
anm_shots_g                              = sdm_ak74_shot_g, idle_g
anm_show_g                               = sdm_ak74_draw_g
anm_switch_g                             = sdm_ak74_gl_on
anm_switch                               = sdm_ak74_gl_off	

; NEW

anm_changefiremode                       = sdm_ak74_mod_switch, idle
;anm_changefiremode_aim                  = sdm_ak74_mod_switch_aim, idle
anm_sprint_start             			 = sdm_ak74_sprint_start, idle
anm_sprint_end               			 = sdm_ak74_sprint_end, idle
anm_ammo_check                  		 = sdm_ak74_ammo_check
anm_ammo_check_empty             		 = sdm_ak74_ammo_check_empty
;anm_ammo_check_aim                   	 = sdm_ak74_ammo_check_aim, sdm_ak74_ammo_check_aim
anm_ammo_check_empty_aim             	 = sdm_ak74_ammo_check_aim,sdm_ak74_ammo_check_empty_aim

anm_changefiremode_w_gl                  = sdm_ak74_mod_switch_w_gl, idle
;anm_changefiremode_w_gl_aim             = sdm_ak74_mod_switch_w_gl_aim, idle
anm_sprint_start_w_gl             		 = sdm_ak74_sprint_start_w_gl, idle
anm_sprint_end_w_gl               		 = sdm_ak74_sprint_end_w_gl, idle
anm_ammo_check_w_gl                   	 = sdm_ak74_ammo_check_w_gl, sdm_ak74_ammo_check_w_gl
anm_ammo_check_empty_w_gl             	 = sdm_ak74_ammo_check_empty_w_gl, sdm_ak74_ammo_check_empty_w_gl
;anm_ammo_check_w_gl_aim                 = sdm_ak74_ammo_check_aim_w_gl, sdm_ak74_ammo_check_aim_w_gl
anm_ammo_check_empty_w_gl_aim            = sdm_ak74_ammo_check_aim_w_gl, sdm_ak74_ammo_check_empty_aim_w_gl 

anm_sprint_start_g             			 = sdm_ak74_sprint_start_g, idle_g
anm_sprint_end_g               			 = sdm_ak74_sprint_end_g, idle_g

shell_point                 			 = 0,0,0
shell_bone                				 = gilza
fire_point								 = 0,0,0
fire_bone                   			 = muzzle
fire_point2                 			 = 0,0,0
fire_bone2                				 = muzzle_gl

item_visual                              = dynamics\weapons\wpn_ak74\wpn_ak74_hud.ogf

;-----------------------------------------------------------------------------
; Addons
;-----------------------------------------------------------------------------

[wpn_ak74_pso_scope]:wpn_ak74
$spawn                          = "weapons\wpn_ak74_pso_scope"
scope_x                         = 34
scope_y                         = 5
hud                             = wpn_ak74_pso_scope_hud

[wpn_ak74_pso_scope_hud]:wpn_ak74_hud
aim_hud_offset_pos				= -0.047085,0.007492,-0.016158
aim_hud_offset_rot				= -0.012595,0.023435,0.008665
aim_hud_offset_pos_16x9			= -0.047085,0.007492,-0.016158
aim_hud_offset_rot_16x9			= -0.012595,0.023435,0.008665

[wpn_ak74_kobra_scope]:wpn_ak74
$spawn                          = "weapons\wpn_ak74_kobra_scope"
scope_x                         = 72
scope_y                         = 7
hud                             = wpn_ak74_kobra_scope_hud
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74_kobra.ogf

[wpn_ak74_kobra_scope_hud]:wpn_ak74_hud
aim_hud_offset_pos				= -0.056085,-0.002008,-0.028158
aim_hud_offset_rot				= 0.030905,-0.000565,0.008665
aim_hud_offset_pos_16x9			= -0.056085,-0.002008,-0.028158
aim_hud_offset_rot_16x9			= 0.030905,-0.000565,0.008665
item_visual                     = dynamics\weapons\wpn_ak74\wpn_ak74_kobra_hud.ogf

[wpn_ak74_okp_scope]:wpn_ak74
$spawn                          = "weapons\wpn_ak74_okp_scope"
scope_x                         = 72
scope_y                         = 4
hud                             = wpn_ak74_okp_scope_hud
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74_okp.ogf

[wpn_ak74_okp_scope_hud]:wpn_ak74_hud
aim_hud_offset_pos				= -0.052585,0.008992,-0.032158
aim_hud_offset_rot				= 0.015405,0.000685,0.008665
aim_hud_offset_pos_16x9			= -0.052585,0.008992,-0.032158
aim_hud_offset_rot_16x9			= 0.015405,0.000685,0.008665
item_visual                     = dynamics\weapons\wpn_ak74\wpn_ak74_okp_hud.ogf

[wpn_ak74_1pn93_1_scope]:wpn_ak74
$spawn                          = "weapons\wpn_ak74_1pn93_1_scope"
scope_x                         = 62
scope_y                         = 6
hud                             = wpn_ak74_1pn93_1_scope_hud
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74_1pn93.ogf

[wpn_ak74_1pn93_1_scope_hud]:wpn_ak74_hud
aim_hud_offset_pos				= -0.047085,0.004992,-0.011158
aim_hud_offset_rot				= 0.083155,0.044685,0.008665
aim_hud_offset_pos_16x9			= -0.047085,0.004992,-0.011158
aim_hud_offset_rot_16x9			= 0.083155,0.044685,0.008665
item_visual                     = dynamics\weapons\wpn_ak74\wpn_ak74_1pn93_hud.ogf

;-----------------------------------------------------------------------------
; AK-74M
;-----------------------------------------------------------------------------

[wpn_ak74m]:wpn_ak74
$spawn							= "weapons\ak74m"

parent_section  				= wpn_ak74m

inv_name						= st_wpn_ak74m

inv_grid_width					= 5
inv_grid_height					= 2
inv_grid_x						= 22
inv_grid_y						= 4

bullet_bones                    = bullets

cost 							= 16000
inv_weight						= 3.60
hud								= wpn_ak74m_hud
visual							= dynamics\weapons\wpn_ak74\wpn_ak74m.ogf

condition_shot_dec              = 0.0002

scope_x							= 29
scope_y							= 7

silencer_x                  	= 212
silencer_y                  	= 18

grenade_launcher_x          	= 112
grenade_launcher_y          	= 27

[wpn_ak74m_hud]:wpn_ak74_hud
hands_orientation                		 = 0.299094, 0.334508, 0
hands_orientation_16x9           		 = 0.299094, 0.334508, 0
hands_position                   		 = -0.005319, -0.000639, -0.015996
hands_position_16x9              		 = -0.005319, -0.000639, -0.015996
aim_hud_offset_pos						 = -0.058085,0.014492,-0.063158
aim_hud_offset_rot						 = 0.008155,0.004435,0.008665
aim_hud_offset_pos_16x9					 = -0.058085,0.014492,-0.063158
aim_hud_offset_rot_16x9					 = 0.008155,0.004435,0.008665
gl_hud_offset_pos                		 = -0.097546, -0.303584, -0.268799
gl_hud_offset_pos_16x9           		 = -0.097546, -0.303584, -0.268799
gl_hud_offset_rot                		 = -0.628723, 0.059262, 0.046114
gl_hud_offset_rot_16x9           		 = -0.628723, 0.059262, 0.046114
item_position							 = 0,0,0
item_orientation						 = 0,0,0

item_visual								 = dynamics\weapons\wpn_ak74\wpn_ak74m_hud.ogf

;-----------------------------------------------------------------------------
; Addons
;-----------------------------------------------------------------------------

[wpn_ak74m_kobra_scope]:wpn_ak74m
$spawn             				= "weapons\wpn_ak74m_kobra_scope"
hud								= wpn_ak74m_kobra_scope_hud
scope_x							= 68
scope_y							= 7
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74m_kobra.ogf

[wpn_ak74m_kobra_scope_hud]:wpn_ak74m_hud
aim_hud_offset_pos				= -0.056085,-0.003008,-0.030158
aim_hud_offset_rot				= 0.042155,-0.001315,0.008665
aim_hud_offset_pos_16x9			= -0.056085,-0.003008,-0.030158
aim_hud_offset_rot_16x9			= 0.042155,-0.001315,0.008665
item_visual                		= dynamics\weapons\wpn_ak74\wpn_ak74m_kobra_hud.ogf

[wpn_ak74m_pso_scope]:wpn_ak74m
$spawn             				= "weapons\wpn_ak74m_pso_scope"
hud								= wpn_ak74m_pso_scope_hud
scope_x							= 31
scope_y							= 6

[wpn_ak74m_pso_scope_hud]:wpn_ak74m_hud
aim_hud_offset_pos				= -0.047085,0.007492,-0.012158
aim_hud_offset_rot				= -0.021095,0.025435,0.008665
aim_hud_offset_pos_16x9			= -0.047085,0.007492,-0.012158
aim_hud_offset_rot_16x9			= -0.021095,0.025435,0.008665

[wpn_ak74m_okp_scope]:wpn_ak74m
$spawn             				= "weapons\wpn_ak74m_okp_scope"
hud								= wpn_ak74m_okp_scope_hud
scope_x							= 69
scope_y							= 5
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74m_okp.ogf

[wpn_ak74m_okp_scope_hud]:wpn_ak74m_hud
aim_hud_offset_pos				= -0.053085,0.009992,-0.033158
aim_hud_offset_rot				= 0.025405,-0.002565,0.008665
aim_hud_offset_pos_16x9			= -0.053085,0.009992,-0.033158
aim_hud_offset_rot_16x9			= 0.025405,-0.002565,0.008665
item_visual                		= dynamics\weapons\wpn_ak74\wpn_ak74m_okp_hud.ogf

[wpn_ak74m_1pn93_1_scope]:wpn_ak74m
$spawn                          = "weapons\wpn_ak74m_1pn93_1_scope"
scope_x                         = 58
scope_y                         = 7
hud                             = wpn_ak74m_1pn93_1_scope_hud
visual                          = dynamics\weapons\wpn_ak74\wpn_ak74m_1pn93.ogf

[wpn_ak74m_1pn93_1_scope_hud]:wpn_ak74m_hud
aim_hud_offset_pos				= -0.046085,-0.001008,-0.005158
aim_hud_offset_rot				= -0.005845,0.034935,0.008665
aim_hud_offset_pos_16x9			= -0.046085,-0.001008,-0.005158
aim_hud_offset_rot_16x9			= -0.005845,0.034935,0.008665
item_visual                     = dynamics\weapons\wpn_ak74\wpn_ak74m_1pn93_hud.ogf