[wpn_pkm]:new_weapon_params
$npc                                               = on
$prefetch                                          = 8
$spawn                                             = "weapons\pkm"
ammo_class                                         = ammo_pkm_100
ammo_elapsed                                       = 100
ammo_mag_size                                      = 100

;Правки Мортана. Последовательно скрывает указанные кости при стрельбе.
;Проблема пока в том, что скрывается одна = скрываются остальные. Кости боеприпасов надо отсоединить друг от друга.
;Ещё нужна моушин марка, чтобы делать видимыми патроны в опр. момент перезарядки.
bullet_bones                                       = bullet_4,bullet_5,bullet_6,bullet_7,bullet_8,bullet_9,bullet_10,bullet_11,bullet_12
  
position                    					   = -0.016, -0.005, -0.020
orientation                 					   = 0, 0, 0
fire_point                  					   = 0, 0.158, 0.845
fire_point2                 					   = 0, 0.097, 0.722
strap_bone0                 					   = bip01_spine2
strap_bone1                 					   = bip01_spine1
strap_position             						   = -0.26, -0.11, 0.25
strap_orientation           					   = -15, -9, 110 
shell_point				                           = -0.02,0.167,0.082
shell_particles                                    = ;weapons\762x54l не нужна

animation_slot                                     = 2
bullet_speed                                       = 825
cam_dispersion                                     = 0.33
cam_dispersion_frac                                = 1.0
cam_dispersion_inc                                 = 0.23
cam_max_angle                                      = 15.0
cam_max_angle_horz                                 = 35.0
cam_relax_speed                                    = 15
cam_return                                         = 0
cam_step_angle_horz                                = 0.25
class                                              = WP_AK74

condition_shot_dec                                 = 0.0005

control_inertion_factor                            = 2.0f
cost                                               = 50000
crosshair_inertion                                 = 7.70
description                                        = st_wpn_pkm_descr
ef_main_weapon_type                                = 2
ef_weapon_type                                     = 10
fire_dispersion_base                               = 0.26
fire_distance                                      = 1400
fire_modes                                         = 15, -1
grenade_class                                      = ammo_m209
grenade_launcher_status                            = 0
GroupControlSection                                = spawn_group
hand_dependence                                    = 1
hit_power                                          = 0.9
hit_type                                           = fire_wound
holder_fov_modifier                                = 1.0
holder_range_modifier                              = 1.0
hud                                                = wpn_pkm_hud
installed_upgrades                                 = 
inv_grid_height                                    = 2
inv_grid_width                                     = 6
inv_grid_x                                         = 0
inv_grid_y                                         = 34
inv_name                                           = st_wpn_pkm
inv_weight                                         = 7.5
launch_speed                                       = 0
light_color                                        = 0.6, 0.5, 0.3
light_disabled                                     = false
light_range                                        = 5
light_time                                         = 0.2
light_var_color                                    = 0.05
light_var_range                                    = 0.5
max_radius                                         = 90
min_radius                                         = 30
misfire_chance                                     = 0.09
PDM_disp_accel_factor                              = 3.0
PDM_disp_base                                      = 1.0
PDM_disp_crouch                                    = 1.0
PDM_disp_crouch_no_acc                             = 1.0
PDM_disp_vel_factor                                = 3.0
ph_mass                                            = 8
reload_dof                                         = 0, 0.5, 5, 1.7
rpm                                                = 650
rpm_empty_click                                    = 200
scheduled                                          = off
scope_status                                       = 0
scope_zoom_factor                                  = 1.1

silencer_light_color                               = 0.6,0.5,0.3
silencer_light_range                               = 0.01
silencer_light_time                                = 0.2
silencer_light_var_color                           = 0.05
silencer_light_var_range                           = 0.5
silencer_status                                    = 0
single_handed                                      = 0
slot                                               = 2

snd_bore                                           = weapons\pkm\pkm_boring
snd_draw                                           = weapons\pkm\pkm_draw
snd_empty               						   = weapons\pkm\pkm_empty
snd_holster                                        = weapons\pkm\pkm_holster
snd_reload                                         = weapons\pkm\pkm_reload
snd_reload_empty                                   = weapons\pkm\pkm_reload_empty
snd_reload_misfire								   = weapons\pkm\pkm_reload_missfire
snd_shoot                                          = weapons\pkm\pkm_shoot
snd_silncer_shot								   = weapons\pkm\pkm_shot_sil
snd_changefiremode                                 = weapons\ak_firemode_swith
snd_aim_start                                      = weapons\generic_draw, 0.2
snd_aim_end                                        = weapons\generic_draw, 0.2
snd_shoot_distant           					   = weapons\_gunfire\pkm\medium_distance
snd_shoot_distant_far       					   = weapons\_gunfire\pkm\medium_distance

;Звук пулемётной ленты (лязг), на будущее
;snd_tape                                           =

sprint_allowed                                     = true
time_to_aim                                        = 5.0

upgrade_scheme                                     = upgrade_scheme_pkm
upgrades                                           = up_gr_firstab_pkm, up_gr_seconab_pkm, up_gr_thirdab_pkm, up_gr_fourtab_pkm, up_gr_fifthab_pkm

use_aim_bullet                                     = false
visual                                             = dynamics\weapons\wpn_pkm\wpn_pkm.ogf
weapon_class                                       = heavy_weapon
zoom_cam_dispersion                                = 0.23
zoom_cam_dispersion_frac                           = 0.7
zoom_cam_dispersion_inc                            = 0.18
zoom_cam_max_angle                                 = 20.0
zoom_cam_max_angle_horz                            = 45.0
zoom_cam_relax_speed                               = 15
zoom_cam_step_angle_horz                           = 0.30
zoom_dof                                           = 0.5, 1.0, 180
zoom_enabled                                       = true
zoom_rotate_time                                   = 0.3

flame_particles									   = weapons\generic_weapon05
smoke_particles								       = ghost_particles\weapons\flame_eft_ak
grenade_flame_particles							   = weapons\generic_weapon01
silencer_smoke_particles   						   = ghost_particles\weapons\generic_smoke_eft_sil

[wpn_pkm_hud]:hud_base_weapon
hands_position				       = -0.008400,-0.005340,0.131950
hands_orientation			       = 0.000000,0.000000,0.000000
hands_position_16x9				   = -0.008400,-0.005340,0.131950
hands_orientation_16x9		       = 0.000000,0.000000,0.000000          
aim_hud_offset_pos                 = -0.09612, 0.0534, -0.25        
aim_hud_offset_rot          	   = 0.039, 0.0349, 0.00095
aim_hud_offset_pos_16x9			   = 0.008500,0.005880,0.045004
aim_hud_offset_rot_16x9			   = 0.001760,0.000325,0.009321
item_position                      = 0, 0, 0
item_orientation                   = 0, 0, 0
		
anm_hide                    	   = wpn_hand_pkm_siber_out,              idle
anm_idle                    	   = wpn_hand_pkm_siber_idle,             idle
anm_idle_aim                	   = wpn_hand_pkm_siber_idle_aim,         idle
anm_idle_aim_moving         	   = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_walk
anm_idle_aim_moving_crouch  	   = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_walk
anm_idle_moving             	   = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_walk
anm_idle_moving_crouch      	   = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_walk
anm_idle_sprint             	   = wpn_hand_pkm_siber_run,              wpn_pkm_siber_run
anm_reload                  	   = wpn_hand_pkm_siber_reload,           wpn_pkm_siber_reload
anm_reload_misfire          	   = wpn_hand_pkm_siber_misfire,          wpn_pkm_siber_misfire
anm_reload_empty            	   = wpn_hand_pkm_siber_reload_empty,     wpn_pkm_siber_reload_empty
anm_shots                   	   = wpn_hand_pkm_siber_shoot,            wpn_pkm_siber_shoot
anm_show                    	   = wpn_hand_pkm_siber_in,               wpn_pkm_siber_in
anm_bore                    	   = wpn_hand_pkm_siber_boring,           wpn_pkm_siber_boring
anm_shots_when_aim                 = wpn_hand_pkm_siber_shoot_aim,        wpn_pkm_siber_shoot
anm_idle_aim_start          	   = wpn_hand_pkm_siber_in_aim,           wpn_pkm_siber_in_aim, 1.06
anm_idle_aim_end            	   = wpn_hand_pkm_siber_out_aim,          wpn_pkm_siber_out_aim, 1.06

anm_hide_empty                     = wpn_hand_pkm_siber_out,              wpn_pkm_siber_idle_empty
anm_idle_empty                     = wpn_hand_pkm_siber_idle,             wpn_pkm_siber_idle_empty
anm_idle_aim_empty                 = wpn_hand_pkm_siber_idle_aim,         wpn_pkm_siber_idle_empty
anm_idle_aim_moving_empty          = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_idle_empty
anm_idle_aim_moving_crouch_empty   = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_idle_empty
anm_idle_moving_empty              = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_idle_empty
anm_idle_moving_crouch_empty       = wpn_hand_pkm_siber_walk,             wpn_pkm_siber_idle_empty
anm_idle_sprint_empty              = wpn_hand_pkm_siber_run,              wpn_pkm_siber_idle_empty
anm_shot_l                         = wpn_hand_pkm_siber_shoot,            wpn_pkm_siber_shoot_empty
anm_show_empty                     = wpn_hand_pkm_siber_in,               wpn_pkm_siber_idle_empty
anm_bore_empty                     = wpn_hand_pkm_siber_boring,           wpn_pkm_siber_idle_empty
anm_idle_aim_start_empty           = wpn_hand_pkm_siber_in_aim,           wpn_pkm_siber_idle_empty
anm_idle_aim_end_empty             = wpn_hand_pkm_siber_out_aim,          wpn_pkm_siber_idle_empty
anm_shot_when_aim_l                = wpn_hand_pkm_siber_shoot_aim,        wpn_pkm_siber_shoot_empty

shell_bone                         = gilza
shell_point                 	   = 0, 10, 0     
fire_bone                   	   = muzzle
fire_bone2                  	   = wpn_body
fire_point                  	   = 0, 0, 0
fire_point2                 	   = 0, 0, 0
		
item_visual                        = dynamics\weapons\wpn_pkm\wpn_pkm_hud.ogf

;-----------------------------------------------------------------------------
; PKP
;-----------------------------------------------------------------------------

[wpn_pkp]:wpn_pkm
$spawn                             = "weapons\wpn_pkp"
cost                               = 75000
description                        = st_wpn_pkp_descr
fire_dispersion_base               = 0.23
fire_distance                      = 1600
hud                                = wpn_pkp_hud
inv_name                           = st_wpn_pkp
inv_weight                         = 8.2
inv_grid_x                         = 0
inv_grid_y                         = 32
scopes 					    	   = pso_scope, 1pn93_4_scope, kobra_scope, okp_scope
parent_section  				   = wpn_pkp
scope_status                       = 2
silencer_name           	       = wpn_addon_silencer_7_62x54
silencer_status                    = 2
silencer_x                         = 270
silencer_y                         = 12

snd_reload                         = weapons\pkm\pkm_reload
snd_reload_empty                   = weapons\pkm\pkm_reload_empty
snd_reload_misfire				   = weapons\pkm\pkp_reload_missfire

visual                             = dynamics\weapons\wpn_pkp\wpn_pkp.ogf

[wpn_pkp_hud]:wpn_pkm_hud
aim_hud_offset_pos				   = 0.008500,0.006380,0.045004
aim_hud_offset_rot				   = -0.002490,-0.000925,0.009321
aim_hud_offset_pos_16x9			   = 0.008500,0.006380,0.045004
aim_hud_offset_rot_16x9			   = -0.002490,-0.000925,0.009321

anm_hide                    	   = wpn_hand_pkm_siber_out,              idle
anm_idle                    	   = wpn_hand_pkm_siber_idle,             idle               
anm_idle_aim                	   = wpn_hand_pkm_siber_idle_aim,         idle  
anm_idle_aim_moving         	   = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_walk
anm_idle_aim_moving_crouch  	   = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_walk
anm_idle_moving             	   = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_walk
anm_idle_moving_crouch      	   = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_walk
anm_idle_sprint             	   = wpn_hand_pkm_siber_run,              wpn_pkp_siber_run
anm_reload                  	   = wpn_hand_pkm_siber_reload,           wpn_pkp_siber_reload
anm_reload_misfire          	   = wpn_hand_pkp_siber_misfire,          wpn_pkp_siber_misfire
anm_reload_empty            	   = wpn_hand_pkm_siber_reload_empty,     wpn_pkp_siber_reload_empty
anm_shots                   	   = wpn_hand_pkm_siber_shoot,            wpn_pkp_siber_shoot
anm_show                    	   = wpn_hand_pkm_siber_in,               wpn_pkp_siber_in
anm_bore                    	   = wpn_hand_pkm_siber_boring,           wpn_pkp_siber_boring
anm_shots_when_aim                 = wpn_hand_pkm_siber_shoot_aim,        wpn_pkp_siber_shoot
anm_idle_aim_start          	   = wpn_hand_pkm_siber_in_aim,           wpn_pkp_siber_in_aim                
anm_idle_aim_end            	   = wpn_hand_pkm_siber_out_aim,          wpn_pkp_siber_out_aim                


anm_hide_empty                     = wpn_hand_pkm_siber_out,              wpn_pkp_siber_idle_empty
anm_idle_empty                     = wpn_hand_pkm_siber_idle,             wpn_pkp_siber_idle_empty
anm_idle_aim_empty                 = wpn_hand_pkm_siber_idle_aim,         wpn_pkp_siber_idle_empty        
anm_idle_aim_moving_empty          = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_idle_empty  
anm_idle_aim_moving_crouch_empty   = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_idle_empty
anm_idle_moving_empty              = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_idle_empty
anm_idle_moving_crouch_empty       = wpn_hand_pkm_siber_walk,             wpn_pkp_siber_idle_empty
anm_idle_sprint_empty              = wpn_hand_pkm_siber_run,              wpn_pkp_siber_idle_empty
anm_shot_l                         = wpn_hand_pkm_siber_shoot,            wpn_pkp_siber_shoot_empty
anm_show_empty                     = wpn_hand_pkm_siber_in,               wpn_pkp_siber_idle_empty
anm_bore_empty                     = wpn_hand_pkm_siber_boring,           wpn_pkp_siber_idle_empty
anm_idle_aim_start_empty           = wpn_hand_pkm_siber_in_aim,           wpn_pkp_siber_idle_empty               
anm_idle_aim_end_empty             = wpn_hand_pkm_siber_out_aim,          wpn_pkp_siber_idle_empty    
anm_shot_when_aim_l               = wpn_hand_pkm_siber_shoot_aim,        wpn_pkp_siber_shoot_empty  
		
item_visual                        = dynamics\weapons\wpn_pkp\wpn_pkp_hud.ogf

;-----------------------------------------------------------------------------
; Addons
;-----------------------------------------------------------------------------

[wpn_pkp_pso_scope]:wpn_pkp
$spawn                          = "weapons\wpn_pkp_pso_scope"
scope_x                         = 40
scope_y                         = -2
snd_reload                      = weapons\pkm\pkp_reload_scope
snd_reload_empty                = weapons\pkm\pkp_reload_empty_scope
hud                             = wpn_pkp_pso_scope_hud
visual                          = dynamics\weapons\wpn_pkp\wpn_pkp_pso.ogf

[wpn_pkp_pso_scope_hud]:wpn_pkp_hud
aim_hud_offset_pos				= 0.033000,-0.008120,-0.027996
aim_hud_offset_rot				= -0.000265,-0.001350,0.009321
aim_hud_offset_pos_16x9			= 0.033000,-0.008120,-0.027996
aim_hud_offset_rot_16x9			= -0.000265,-0.001350,0.009321

anm_reload                      = wpn_hand_pkp_siber_reload_scope,           wpn_pkp_siber_reload_scope
anm_reload_empty                = wpn_hand_pkp_siber_reload_empty_scope,     wpn_pkp_siber_reload_empty_scope
anm_idle_sprint                 = wpn_hand_pkp_siber_run,                    wpn_pkp_siber_run
item_visual                     = dynamics\weapons\wpn_pkp\wpn_pkp_pso_hud.ogf

[wpn_pkp_kobra_scope]:wpn_pkp
$spawn                          = "weapons\wpn_pkp_kobra_scope"
scope_x                         = 83
scope_y                         = -1
snd_reload                      = weapons\pkm\pkp_reload_scope
snd_reload_empty                = weapons\pkm\pkp_reload_empty_scope
hud                             = wpn_pkp_kobra_scope_hud
visual                          = dynamics\weapons\wpn_pkp\wpn_pkp_kobra.ogf

[wpn_pkp_kobra_scope_hud]:wpn_pkp_hud
aim_hud_offset_pos				= 0.023000,-0.019120,-0.018996
aim_hud_offset_rot				= 0.005010,0.000575,0.009321
aim_hud_offset_pos_16x9			= 0.023000,-0.019120,-0.018996
aim_hud_offset_rot_16x9			= 0.005010,0.000575,0.009321

anm_reload                      = wpn_hand_pkp_siber_reload_collim,           wpn_pkp_siber_reload_scope
anm_reload_empty                = wpn_hand_pkp_siber_reload_empty_collim,     wpn_pkp_siber_reload_empty_scope
anm_idle_sprint                 = wpn_hand_pkp_siber_run,                     wpn_pkp_siber_run
item_visual                     = dynamics\weapons\wpn_pkp\wpn_pkp_kobra_hud.ogf

[wpn_pkp_okp_scope]:wpn_pkp
$spawn                          = "weapons\wpn_pkp_okp_scope"
scope_x                         = 72
scope_y                         = -4
snd_reload                      = weapons\pkm\pkp_reload_scope
snd_reload_empty                = weapons\pkm\pkp_reload_empty_scope
hud                             = wpn_pkp_okp_scope_hud
visual                          = dynamics\weapons\wpn_pkp\wpn_pkp_okp.ogf

[wpn_pkp_okp_scope_hud]:wpn_pkp_hud
aim_hud_offset_pos				= 0.024500,-0.011120,-0.003996
aim_hud_offset_rot				= 0.005510,0.003575,0.009321
aim_hud_offset_pos_16x9			= 0.024500,-0.011120,-0.003996
aim_hud_offset_rot_16x9			= 0.005510,0.003575,0.009321

anm_reload                      = wpn_hand_pkp_siber_reload_okp,              wpn_pkp_siber_reload_scope
anm_reload_empty                = wpn_hand_pkp_siber_reload_empty_okp,        wpn_pkp_siber_reload_empty_scope
anm_idle_sprint                 = wpn_hand_pkp_siber_run,                     wpn_pkp_siber_run
item_visual                     = dynamics\weapons\wpn_pkp\wpn_pkp_okp_hud.ogf

[wpn_pkp_1pn93_4_scope]:wpn_pkp
$spawn                          = "weapons\wpn_pkp_1pn93_4_scope"
scope_x                         = 69
scope_y                         = -2
snd_reload                      = weapons\pkm\pkp_reload_scope
snd_reload_empty                = weapons\pkm\pkp_reload_empty_scope
hud                             = wpn_pkp_1pn93_4_scope_hud
visual                          = dynamics\weapons\wpn_pkp\wpn_pkp_1pn93.ogf

[wpn_pkp_1pn93_4_scope_hud]:wpn_pkp_hud
aim_hud_offset_pos				= 0.033500,-0.035620,-0.018996
aim_hud_offset_rot				= -0.050240,-0.014675,0.009321
aim_hud_offset_pos_16x9			= 0.033500,-0.035620,-0.018996
aim_hud_offset_rot_16x9			= -0.050240,-0.014675,0.009321

anm_reload                      = wpn_hand_pkp_siber_reload_1pn79,           wpn_pkp_siber_reload_scope
anm_reload_empty                = wpn_hand_pkp_siber_reload_empty_1pn79,     wpn_pkp_siber_reload_empty_scope
anm_idle_sprint                 = wpn_hand_pkp_siber_run,                    wpn_pkp_siber_run
item_visual                     = dynamics\weapons\wpn_pkp\wpn_pkp_1pn93_hud.ogf

